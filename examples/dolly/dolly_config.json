{
    "verbose": true,
    "input_model": {
        "type": "PyTorchModel",
        "config": {
            "hf_config": {
                "model_name": "databricks/dolly-v2-3b",
                "task": "text-generation",
                "dataset": {
                    "data_name": "databricks/databricks-dolly-15k",
                    "subset": "open_qa",
                    "split": "train",
                    "input_cols": [
                        "instruction"
                    ],
                    "label_cols": [
                        "response"
                    ],
                    "batch_size": 1
                }
            },
            "io_config": {
                "input_names": ["input_ids", "attention_mask"],
                "output_names": ["logits"],
                "dynamic_axes": {
                    "input_ids": {"0": "batch_size", "1": "sequence_length"},
                    "attention_mask": {"0": "batch_size", "1": "sequence_length"}
                }

            }
        }
    },
    "systems": {
        "local_system": {
            "type": "LocalSystem"
        }
    },
    "evaluators": {
        "common_evaluator": {
            "metrics": [
                {
                    "name": "latency",
                    "type": "latency",
                    "sub_type": "avg"
                }
            ]
        }
    },
    "passes": {
        "conversion": {
            "type": "OnnxConversion",
            "config": {
                "target_opset": 13,
                "save_as_external_data": true
            }
        }
    },
    "engine": {
        "search_strategy": false,
        "evaluator": "common_evaluator",
        "host": "local_system",
        "target": "local_system",
        "clean_cache": true,
        "cache_dir": "cache",
        "output_dir": "models",
        "output_name": "dolly"
    }
}
